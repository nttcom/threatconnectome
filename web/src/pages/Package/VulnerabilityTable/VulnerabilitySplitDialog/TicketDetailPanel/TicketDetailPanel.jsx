import { TouchApp } from "@mui/icons-material";
import { Box, Stack, Typography } from "@mui/material";
import PropTypes from "prop-types";
import { useTranslation } from "react-i18next";

import { StatusManagementCard } from "./StatusManagementCard";
import { TicketHeader } from "./TicketHeader";

export function TicketDetailPanel({ ticketId }) {
  const { t } = useTranslation("package", {
    keyPrefix: "VulnerabilityTable.VulnerabilitySplitDialog.TicketDetailPanel.TicketDetailPanel",
  });

  if (!ticketId) {
    return (
      <Box
        sx={{
          display: "flex",
          flexDirection: "column",
          justifyContent: "center",
          alignItems: "center",
          height: "100%",
          p: 4,
          gap: 1,
        }}
      >
        <TouchApp color="disabled" sx={{ fontSize: 48 }} />
        <Typography variant="body2" color="text.secondary">
          {t("selectTicket")}
        </Typography>
      </Box>
    );
  }

  return (
    <Stack spacing={3}>
      <TicketHeader ticketId={ticketId} />
      <StatusManagementCard ticketId={ticketId} />
    </Stack>
  );
}

TicketDetailPanel.propTypes = {
  ticketId: PropTypes.string,
};
